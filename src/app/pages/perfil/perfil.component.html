<app-top-nav-bar></app-top-nav-bar>

<div class="container__perfil container">

    <div class="header__perfil">

        <img src="{{url_fotoUsuario}}" alt="Foto de Perfil de {{nome_usuario}}">

        <div class="info__header">
            <h2>{{nome_usuario}}</h2>
        </div>

    </div>

    <div class="nav__perfil">
        <button class="navItem" (click)="mudarSecao(0)" [ngClass] = "selecionarA()">Anúncios</button>
        <button class="navItem" (click)="mudarSecao(1)" [ngClass] = "selecionarB()">Avaliação</button>
        <button class="navItem" (click)="mudarSecao(2)" [ngClass] = "selecionarC()">Pedidos</button>
    </div>

    <div class="anuncios__perfil" *ngIf = "secaoIndex == 0">
        <app-anuncio-thumb *ngFor="let anuncio of idAnuncios"
        idAnuncio = "{{anuncio}}"
        localAnuncio="{{localUsuario}}"
    ></app-anuncio-thumb>
    </div>

    <!-- usar o ngFor aqui depois -->
    <div class="avaliacao__perfil" *ngIf="secaoIndex == 1">
        <!-- <div class="container__avaliacao" *ngIf="avaliacao == true">
            <div class="nota__grande">
                <h1>{{mediaAvaliacao.toFixed(1)}}</h1>
          
                <div class="estrelinhas">
                    <img src="https://i.pinimg.com/originals/56/89/8e/56898e2b68d0d0dbb000d56eafe6ea12.png" alt="Desenho de Estrela">
                </div>
            </div>
        </div>

        <div [innerHTML] = "htmlAvaliacao"></div> -->



        <div class="container__avaliacao" *ngIf="avaliacao == true">
        <!-- <div class="container__avaliacao" *ngIf="avaliacao$ |async as avaliacao"> -->
            <div class="nota__grande">
                <h1>{{mediaAvaliacao.toFixed(1)}}</h1>

                <div class="estrelinhas">
                    <img src="https://i.pinimg.com/originals/56/89/8e/56898e2b68d0d0dbb000d56eafe6ea12.png" alt="Desenho de Estrela">
                </div>
            </div>

            <div class="grafico__avaliacao">
                <div class="line-stars">
                    <app-grafico-avaliacao
                        [valMax] = "[notasQtd]"
                        qtdEstrelas = "5"
                        [qtdN] = "[notas5]"
                    ></app-grafico-avaliacao>
                    <!-- <app-grafico-avaliacao
                        valorMax = "{{notasQtd}}"
                        qtdEstrelas = "4"
                        qtdNotas = "{{notas4}}"
                    ></app-grafico-avaliacao>
                    <app-grafico-avaliacao
                        valorMax = "{{notasQtd}}"
                        qtdEstrelas = "3"
                        qtdNotas = "{{notas3}}"
                    ></app-grafico-avaliacao>
                    <app-grafico-avaliacao
                        valorMax = "{{notasQtd}}"
                        qtdEstrelas = "2"
                        qtdNotas = "{{notas2}}"
                    ></app-grafico-avaliacao>
                    <app-grafico-avaliacao
                        valorMax = "{{notasQtd}}"
                        qtdEstrelas = "1"
                        qtdNotas = "{{notas1}}"
                    ></app-grafico-avaliacao> -->
                </div>
            </div>
        </div>
    </div>

    <!-- usar o ngFor aqui depois -->
    <div class="pedidos__perfil" *ngIf = "secaoIndex == 2">
        <app-pedido
            *ngFor="let pedido of idPedidos"
            idPedido="{{pedido}}"
        ></app-pedido>
    </div>
    
</div>
